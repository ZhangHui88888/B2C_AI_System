---
import Layout from '@layouts/Layout.astro';
import BreadcrumbSchema from '@components/seo/BreadcrumbSchema.astro';
import OrganizationSchema from '@components/seo/OrganizationSchema.astro';
import MediaMentions from '@components/trust/MediaMentions.astro';
import SSLBadge from '@components/trust/SSLBadge.astro';
import PaymentBadges from '@components/trust/PaymentBadges.astro';

const siteName = import.meta.env.PUBLIC_SITE_NAME || 'DTC Store';
let siteUrl = 'https://example.com';
try {
  siteUrl = new URL(Astro.request.url).origin;
} catch {}

const breadcrumbItems = [
  { name: 'Home', url: siteUrl },
  { name: 'About', url: new URL('/about', siteUrl).toString() },
];
---

<Layout title={`About ${siteName}`} description={`Learn about ${siteName}, our standards, and how we support customers.`}>
  <Fragment slot="head">
    <BreadcrumbSchema items={breadcrumbItems} />
    <OrganizationSchema siteUrl={siteUrl} siteName={siteName} />
  </Fragment>

  <main class="container-custom">
    <section class="section">
      <div class="flex flex-col lg:flex-row lg:items-end lg:justify-between gap-4">
        <div>
          <h1>About {siteName}</h1>
          <p class="mt-3 text-gray-600 max-w-2xl">
            We build a simple, transparent shopping experience: clear product details, fair policies, and responsive support.
          </p>
        </div>
        <div class="flex items-center gap-4">
          <SSLBadge />
        </div>
      </div>

      <div class="mt-10 grid grid-cols-1 lg:grid-cols-12 gap-8">
        <div class="lg:col-span-7">
          <div class="prose prose-gray max-w-none">
            <h2>Our promise</h2>
            <ul>
              <li>Clear product information (pricing, shipping time, and returns).</li>
              <li>Secure checkout and responsible handling of customer data.</li>
              <li>Fast support response and practical solutions.</li>
            </ul>

            <h2>Quality & sourcing</h2>
            <p>
              We work with suppliers who can provide consistent quality and documentation when applicable. If a product has specific
              certifications, we show them directly on the product page.
            </p>

            <h2>Support</h2>
            <p>
              If you have questions before purchasing or need help after delivery, reach out via our contact page.
            </p>
          </div>

          <div class="mt-10">
            <MediaMentions />
          </div>
        </div>

        <aside class="lg:col-span-5">
          <div class="card p-5 sticky top-24">
            <div class="font-semibold text-gray-900">Trust & security</div>
            <div class="mt-3 text-sm text-gray-600">We use modern security practices to keep checkout safe.</div>
            <div class="mt-4">
              <PaymentBadges />
            </div>
            <div class="mt-6 grid grid-cols-1 gap-2 text-sm">
              <a class="btn-outline py-2 text-center" href="/shipping">Shipping info</a>
              <a class="btn-outline py-2 text-center" href="/returns">Returns policy</a>
              <a class="btn-primary py-2 text-center" href="/contact">Contact us</a>
            </div>
          </div>
        </aside>
      </div>
    </section>
  </main>
</Layout>
